<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuroPredict Pro | MS Subtype Prediction</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4a6fa5;
            --primary-light: #6b8cbc;
            --primary-dark: #2a4d7d;
            --secondary: #a56fa5;
            --accent: #6fa5a5;
            --light: #f0f4f8;
            --light-alt: #e4eaf2;
            --dark: #2c3e50;
            --dark-alt: #3c5065;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
            --gray: #7f8c8d;
            --light-bg: #f5f8fb;
            --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --border-radius: 16px;
            --border-radius-sm: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, var(--light) 0%, var(--light-alt) 100%);
            color: var(--dark);
            font-family: 'Roboto', sans-serif;
            line-height: 1.7;
            min-height: 100vh;
            padding: 2rem;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="none" stroke="%234a6fa5" stroke-width="0.5" stroke-opacity="0.1"/></svg>');
            z-index: -1;
            opacity: 0.3;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 3rem 0 2rem;
            position: relative;
            animation: fadeIn 1s ease-out;
        }

        .header-content {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
        }

        .brain-icon {
            position: absolute;
            top: -20px;
            right: 0;
            color: var(--primary-light);
            opacity: 0.15;
            font-size: 8rem;
            z-index: -1;
            animation: pulse 4s infinite;
        }

        .logo {
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
            animation: float 3s ease-in-out infinite;
        }

        .logo-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(74, 111, 165, 0.3);
        }

        .logo-icon i {
            color: white;
            font-size: 2.5rem;
        }

        h1 {
            font-family: 'Poppins', sans-serif;
            font-size: 3.2rem;
            font-weight: 700;
            margin-bottom: 1.2rem;
            color: var(--primary-dark);
            position: relative;
            display: inline-block;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        h1 span {
            color: var(--secondary);
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 5px;
            animation: growLine 2s infinite alternate;
        }

        .subtitle {
            font-size: 1.3rem;
            color: var(--dark);
            max-width: 800px;
            margin: 2rem auto;
            line-height: 1.8;
            background: rgba(255, 255, 255, 0.7);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            backdrop-filter: blur(5px);
            position: relative;
            animation: fadeInUp 1s ease-out;
        }

        .subtitle::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--accent));
            border-radius: var(--border-radius-sm) 0 0 var(--border-radius-sm);
        }

        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin: 2rem 0;
        }

        .stat-item {
            background: white;
            padding: 1rem 2rem;
            border-radius: var(--border-radius-sm);
            box-shadow: var(--card-shadow);
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: var(--transition);
            animation: fadeIn 1s ease-out;
            min-width: 220px;
        }

        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .stat-icon {
            font-size: 2rem;
            color: var(--primary);
            animation: pulse 2s infinite;
        }

        .stat-content h3 {
            font-size: 1.1rem;
            color: var(--gray);
            margin-bottom: 0.3rem;
        }

        .stat-content p {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
        }

        .card-container {
            display: flex;
            gap: 2.5rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 3rem;
        }

        .card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            overflow: hidden;
            transition: var(--transition);
            flex: 1;
            min-width: 320px;
            max-width: 800px;
            position: relative;
            border: 1px solid rgba(0, 0, 0, 0.05);
            animation: fadeInUp 0.8s ease-out;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 1.8rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .card-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            transform: rotate(30deg);
        }

        h2 {
            font-family: 'Poppins', sans-serif;
            font-size: 1.9rem;
            margin-bottom: 0;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            position: relative;
            z-index: 1;
        }

        h2 i {
            color: rgba(255, 255, 255, 0.8);
            animation: spin 8s infinite linear;
        }

        .card-body {
            padding: 2.5rem;
        }

        .form-group {
            margin-bottom: 1.8rem;
            position: relative;
        }

        .floating-label {
            position: absolute;
            top: 0.8rem;
            left: 1rem;
            color: var(--gray);
            pointer-events: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        input, select {
            width: 100%;
            padding: 1.2rem 1rem 1.2rem 3.5rem;
            border: 2px solid #e0e0e0;
            border-radius: var(--border-radius-sm);
            font-size: 1.05rem;
            transition: var(--transition);
            background: var(--light-bg);
            color: var(--dark);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-light);
            box-shadow: 0 0 0 4px rgba(74, 111, 165, 0.15);
            background: white;
        }

        input:focus + .floating-label,
        input:not(:placeholder-shown) + .floating-label,
        select:focus + .floating-label,
        select:not([value=""]) + .floating-label {
            top: -1.2rem;
            left: 0.5rem;
            font-size: 0.85rem;
            color: var(--primary);
            background: white;
            padding: 0.2rem 0.8rem;
            border-radius: 20px;
        }

        button {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            border: none;
            border-radius: var(--border-radius-sm);
            padding: 1.2rem 1.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(74, 111, 165, 0.3);
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(74, 111, 165, 0.4);
        }

        button:hover::before {
            left: 100%;
        }

        .data-collection-info {
            text-align: center;
            padding: 2rem;
            border-radius: var(--border-radius);
            background: white;
            margin-top: 2rem;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.8s ease-out;
        }

        .data-collection-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 8px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--accent));
            border-radius: var(--border-radius-sm) 0 0 var(--border-radius-sm);
        }

        .result-title {
            font-size: 1.6rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            font-weight: 600;
        }

        .info-box {
            background: rgba(111, 165, 165, 0.08);
            border-left: 4px solid var(--accent);
            padding: 1.5rem;
            border-radius: 0 var(--border-radius-sm) var(--border-radius-sm) 0;
            margin: 2rem 0;
            position: relative;
            animation: fadeIn 1s ease-out;
        }

        .info-box i {
            position: absolute;
            top: -15px;
            left: -15px;
            background: var(--accent);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            animation: pulse 2s infinite;
        }

        .features {
            margin-top: 2.5rem;
            animation: fadeInUp 1s ease-out;
        }

        .features-list {
            list-style-type: none;
            columns: 2;
            column-gap: 2rem;
        }

        .features-list li {
            padding: 0.8rem 0;
            display: flex;
            align-items: center;
            gap: 12px;
            break-inside: avoid;
            position: relative;
            padding-left: 1.5rem;
            animation: fadeIn 0.5s ease-out;
        }

        .features-list li:nth-child(1) { animation-delay: 0.1s; }
        .features-list li:nth-child(2) { animation-delay: 0.2s; }
        .features-list li:nth-child(3) { animation-delay: 0.3s; }
        .features-list li:nth-child(4) { animation-delay: 0.4s; }
        .features-list li:nth-child(5) { animation-delay: 0.5s; }
        .features-list li:nth-child(6) { animation-delay: 0.6s; }
        .features-list li:nth-child(7) { animation-delay: 0.7s; }
        .features-list li:nth-child(8) { animation-delay: 0.8s; }
        .features-list li:nth-child(9) { animation-delay: 0.9s; }
        .features-list li:nth-child(10) { animation-delay: 1.0s; }

        .features-list li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--accent);
            animation: pulse 2s infinite;
        }

        .animation-section {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .animated-card {
            width: 150px;
            height: 150px;
            background: white;
            border-radius: var(--border-radius);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: var(--card-shadow);
            animation: float 4s infinite ease-in-out;
        }

        .animated-card:nth-child(2) {
            animation-delay: 0.5s;
        }

        .animated-card:nth-child(3) {
            animation-delay: 1s;
        }

        .animated-card i {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
            animation: spin 8s infinite linear;
        }

        .animated-card p {
            font-weight: 600;
            color: var(--dark);
            text-align: center;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            z-index: 100;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            transform: rotate(15deg);
        }

        .theme-toggle i {
            font-size: 1.5rem;
            color: var(--primary);
        }

        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 2.5rem 0;
            color: var(--dark);
            font-size: 1rem;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            animation: fadeIn 1s ease-out;
        }

        .scan-visualization {
            width: 100%;
            max-width: 400px;
            height: 200px;
            margin: 2rem auto;
            border-radius: var(--border-radius);
            background: var(--light-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.05);
        }

        .brain-wave {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, var(--primary-light), transparent);
            opacity: 0.3;
            animation: waveAnimation 3s infinite linear;
        }

        .wave:nth-child(2) {
            animation-delay: -1s;
            opacity: 0.2;
        }

        .wave:nth-child(3) {
            animation-delay: -2s;
            opacity: 0.1;
        }

        .brain-outline {
            position: absolute;
            top: 20%;
            left: 20%;
            width: 60%;
            height: 60%;
            fill: none;
            stroke: var(--primary);
            stroke-width: 2;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: draw 8s linear forwards;
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, transparent, var(--primary-light), transparent);
            animation: scanLine 2.5s infinite linear;
            display: none;
        }

        /* Prediction result styles */
        .prediction-result {
            background: white;
            border-radius: var(--border-radius);
            padding: 2.5rem;
            margin-top: 2rem;
            box-shadow: var(--card-shadow);
            text-align: center;
            display: none;
            animation: fadeInUp 0.8s ease-out;
        }

        .result-header {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            font-weight: 700;
        }

        .result-value {
            font-size: 3.5rem;
            font-weight: 800;
            margin: 1rem 0;
            color: var(--primary-dark);
            text-shadow: 0 3px 6px rgba(74, 111, 165, 0.2);
        }

        .confidence {
            font-size: 1.2rem;
            color: var(--dark);
            margin: 1.5rem 0;
            background: rgba(107, 140, 188, 0.1);
            padding: 1rem;
            border-radius: var(--border-radius-sm);
            display: inline-block;
        }

        .result-explanation {
            margin-top: 2rem;
            padding: 1.5rem;
            background: var(--light-bg);
            border-radius: var(--border-radius);
            text-align: left;
        }

        .feature-importance {
            width: 100%;
            margin-top: 2rem;
        }

        .importance-bar {
            height: 30px;
            background: #e0e0e0;
            border-radius: var(--border-radius-sm);
            margin: 0.8rem 0;
            overflow: hidden;
            position: relative;
        }

        .importance-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--secondary));
            border-radius: var(--border-radius-sm);
            width: 0;
            transition: width 1.5s ease-in-out;
        }

        .importance-label {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--dark);
            font-weight: 500;
            z-index: 2;
        }

        .probability-meter {
            width: 100%;
            height: 40px;
            background: #f0f0f0;
            border-radius: var(--border-radius);
            margin: 2rem 0;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }

        .probability-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            width: 0;
            transition: width 1.5s ease-in-out;
        }

        .probability-labels {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 0.5rem;
        }

        .probability-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .prediction-category {
            display: flex;
            justify-content: space-around;
            margin-top: 2rem;
        }

        .category {
            text-align: center;
            padding: 1.5rem;
            border-radius: var(--border-radius);
            flex: 1;
            margin: 0 0.5rem;
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .category.active {
            border-color: var(--primary);
            box-shadow: 0 5px 20px rgba(74, 111, 165, 0.2);
            transform: translateY(-5px);
        }

        .category h4 {
            font-size: 1.1rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .category p {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .visualization-container {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .brain-model {
            width: 200px;
            height: 200px;
            position: relative;
        }

        .brain-region {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.7;
            transition: var(--transition);
        }

        .region-periventricular {
            background: rgba(107, 140, 188, 0.6);
            clip-path: circle(40% at 50% 30%);
        }

        .region-cortical {
            background: rgba(165, 111, 165, 0.6);
            clip-path: circle(30% at 30% 50%);
        }

        .region-infratentorial {
            background: rgba(111, 165, 165, 0.6);
            clip-path: circle(25% at 70% 70%);
        }

        .region-spinal {
            background: rgba(76, 175, 80, 0.6);
            clip-path: circle(15% at 50% 80%);
            width: 80%;
            height: 80%;
            top: 10%;
            left: 10%;
        }

        .region-label {
            position: absolute;
            background: rgba(255, 255, 255, 0.9);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            z-index: 10;
            display: none;
        }

        .region-periventricular:hover + .label-periventricular,
        .region-cortical:hover + .label-cortical,
        .region-infratentorial:hover + .label-infratentorial,
        .region-spinal:hover + .label-spinal {
            display: block;
        }

        .brain-model:hover .brain-region {
            opacity: 0.9;
            transform: scale(1.05);
        }

        .recommendations {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-top: 2rem;
            box-shadow: var(--card-shadow);
            text-align: left;
        }

        .recommendations h3 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .recommendations ul {
            list-style-type: none;
        }

        .recommendations li {
            padding: 0.8rem 0;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            position: relative;
            padding-left: 2rem;
        }

        .recommendations li::before {
            content: '✓';
            position: absolute;
            left: 0;
            top: 0.8rem;
            width: 24px;
            height: 24px;
            background: var(--success);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes scanLine {
            0% { top: 0; }
            100% { top: 100%; }
        }

        @keyframes waveAnimation {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes draw {
            to { stroke-dashoffset: 0; }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }

        @keyframes growLine {
            0% { width: 100px; }
            100% { width: 150px; }
        }

        /* Responsive design */
        @media (max-width: 992px) {
            .card-container {
                flex-direction: column;
                align-items: center;
            }

            .card {
                max-width: 90%;
            }

            .features-list {
                columns: 1;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            h1 {
                font-size: 2.4rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            .card-body {
                padding: 1.8rem;
            }

            .stats-bar {
                flex-direction: column;
                align-items: center;
            }

            .stat-item {
                width: 100%;
                max-width: 300px;
            }
        }

        /* New styles for enhanced UI */
        .case-study-card {
            background: white;
            border-radius: var(--border-radius-sm);
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: var(--transition);
            cursor: pointer;
            border-left: 4px solid var(--primary);
        }

        .case-study-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(74, 111, 165, 0.2);
        }

        .case-study-card h4 {
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .case-study-card .prediction-tag {
            background: var(--primary-light);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .expandable-section {
            margin-top: 1.5rem;
            border-top: 1px solid rgba(0,0,0,0.1);
            padding-top: 1rem;
        }

        .expandable-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 0.5rem 0;
        }

        .expandable-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }

        .expandable-content.active {
            max-height: 1000px;
        }

        .priority-high {
            color: #e74c3c;
            font-weight: 600;
        }

        .priority-medium {
            color: #f39c12;
            font-weight: 600;
        }

        .priority-low {
            color: #27ae60;
            font-weight: 600;
        }

        .report-button {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            margin-top: 1rem;
        }

        .brain-scan {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #6b8cbc 0%, #4a6fa5 100%);
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
            margin: 1.5rem 0;
        }

        .scan-animation {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: rgba(255,255,255,0.5);
            animation: scan 3s infinite linear;
        }

        .lesion {
            position: absolute;
            width: 12px;
            height: 12px;
            background: rgba(231, 76, 60, 0.8);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }

        .mobile-menu {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .mobile-nav {
            display: flex;
            justify-content: space-around;
            padding: 0.5rem 0;
        }

        .mobile-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.8rem;
            color: var(--dark);
        }

        @media (max-width: 768px) {
            .mobile-menu {
                display: block;
            }

            .stats-bar {
                flex-direction: column;
                align-items: center;
            }

            .stat-item {
                width: 100%;
                max-width: 300px;
                margin-bottom: 1rem;
            }

            .card {
                min-width: 100%;
            }

            .visualization-container {
                flex-direction: column;
            }

            .brain-model {
                width: 100%;
                margin-bottom: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="theme-toggle" id="themeToggle">
        <i class="fas fa-moon"></i>
    </div>

    <div class="container">
        <header>
            <div class="header-content">
                <i class="fas fa-brain brain-icon"></i>
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                </div>
                <h1>Neuro<span>Predict</span> Pro</h1>
                <p class="subtitle">
                    MS Subtype Prediction System. Using advanced machine learning models trained on clinical data,
                    NeuroPredict Pro helps clinicians identify Multiple Sclerosis subtypes with high accuracy.
                </p>

                <div class="stats-bar">
                    <div class="stat-item">
                        <div class="stat-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Model Accuracy</h3>
                            <p>92.4%</p>
                        </div>
                    </div>

                    <div class="stat-item">
                        <div class="stat-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Training Data</h3>
                            <p>1,200+ Cases</p>
                        </div>
                    </div>

                    <div class="stat-item">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-content">
                            <h3>Prediction Time</h3>
                            <p>&lt; 2 seconds</p>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="card-container">
            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-clipboard-list"></i> MS Subtype Prediction</h2>
                </div>
                <div class="card-body">
                    <form id="predictionForm" action="/predict" method="POST">
                        <div class="form-group">
                            <select id="Gender" name="Gender" required>
                                <option value="" selected disabled></option>
                                <option value="1">Male</option>
                                <option value="2">Female</option>
                            </select>
                            <label class="floating-label"><i class="fas fa-venus-mars"></i> Gender</label>
                        </div>

                        <div class="form-group">
                            <input type="number" id="Age" name="Age" placeholder=" " required min="1" max="100">
                            <label class="floating-label"><i class="fas fa-user"></i> Age</label>
                        </div>

                        <div class="form-group">
                            <select id="Breastfeeding" name="Breastfeeding" required>
                                <option value="" selected disabled></option>
                                <option value="1">Never</option>
                                <option value="2">Less than 1 year</option>
                                <option value="3">More than 1 year</option>
                            </select>
                            <label class="floating-label"><i class="fas fa-baby"></i> Breastfeeding History</label>
                        </div>

                        <div class="form-group">
                            <select id="Varicella" name="Varicella" required>
                                <option value="" selected disabled></option>
                                <option value="1">Positive</option>
                                <option value="2">Negative</option>
                            </select>
                            <label class="floating-label"><i class="fas fa-virus"></i> Varicella History</label>
                        </div>

                        <div class="form-group">
                            <select id="Initial_Symptom" name="Initial_Symptom" required>
                                <option value="" selected disabled></option>
                                <option value="1">Optic neuritis</option>
                                <option value="2">Pyramidal</option>
                                <option value="3">Brainstem/cerebellar</option>
                                <option value="4">Sensitive</option>
                                <option value="5">Sphincter</option>
                                <option value="6">Polysymptomatic</option>
                                <option value="7">Other</option>
                            </select>
                            <label class="floating-label"><i class="fas fa-stethoscope"></i> Initial Symptom</label>
                        </div>

                        <div class="form-group">
                            <select id="Mono_or_Polysymptomatic" name="Mono_or_Polysymptomatic" required>
                                <option value="" selected disabled></option>
                                <option value="1">Monosymptomatic</option>
                                <option value="2">Polysymptomatic</option>
                                <option value="3">Unknown</option>
                            </select>
                            <label class="floating-label"><i class="fas fa-head-side-cough"></i> Symptom Type</label>
                        </div>

                        <div class="form-group">
                            <input type="number" step="0.1" id="Initial_EDSS" name="Initial_EDSS" placeholder=" " min="0" max="10" required>
                            <label class="floating-label"><i class="fas fa-wheelchair"></i> Initial EDSS Score</label>
                        </div>

                        <div class="form-group">
                            <input type="number" step="0.1" id="Final_EDSS" name="Final_EDSS" placeholder=" " min="0" max="10" required>
                            <label class="floating-label"><i class="fas fa-procedures"></i> Final EDSS Score</label>
                        </div>

                        <button type="submit" id="predictBtn">
                            <i class="fas fa-brain"></i> Predict MS Subtype
                        </button>
                    </form>

                    <div class="prediction-result" id="predictionResult">
                        <div class="result-header">Prediction Result</div>
                        <div class="result-value" id="resultValue">RRMS</div>
                        <div class="confidence" id="confidenceValue">92.4% Confidence</div>

                        <div class="probability-meter">
                            <div class="probability-fill" id="probabilityFill"></div>
                        </div>
                        <div class="probability-labels">
                            <div class="probability-label">0%</div>
                            <div class="probability-label">50%</div>
                            <div class="probability-label">100%</div>
                        </div>

                        <div class="prediction-category">
                            <div class="category" data-type="RRMS">
                                <h4>RRMS</h4>
                                <p>Relapsing-Remitting</p>
                            </div>
                            <div class="category" data-type="SPMS">
                                <h4>SPMS</h4>
                                <p>Secondary Progressive</p>
                            </div>
                            <div class="category" data-type="PPMS">
                                <h4>PPMS</h4>
                                <p>Primary Progressive</p>
                            </div>
                        </div>

                        <div class="visualization-container">
                            <div class="brain-model">
                                <div class="brain-scan">
                                    <div class="scan-animation"></div>
                                    <div class="lesion" style="top: 20%; left: 30%;"></div>
                                    <div class="lesion" style="top: 45%; left: 50%;"></div>
                                    <div class="lesion" style="top: 70%; left: 40%;"></div>
                                    <div class="lesion" style="top: 60%; left: 20%;"></div>
                                    <div class="lesion" style="top: 35%; left: 70%;"></div>
                                </div>
                            </div>

                            <div class="feature-importance">
                                <div class="importance-bar">
                                    <div class="importance-fill" id="importance1"></div>
                                    <div class="importance-label">Initial EDSS</div>
                                </div>
                                <div class="importance-bar">
                                    <div class="importance-fill" id="importance2"></div>
                                    <div class="importance-label">Spinal Cord MRI</div>
                                </div>
                                <div class="importance-bar">
                                    <div class="importance-fill" id="importance3"></div>
                                    <div class="importance-label">Age</div>
                                </div>
                                <div class="importance-bar">
                                    <div class="importance-fill" id="importance4"></div>
                                    <div class="importance-label">Final EDSS</div>
                                </div>
                            </div>
                        </div>

                        <div class="expandable-section">
                            <div class="expandable-header" id="explanationHeader">
                                <h3><i class="fas fa-comment-medical"></i> Clinical Analysis</h3>
                                <i class="fas fa-chevron-down" id="explanationChevron"></i>
                            </div>
                            <div class="expandable-content" id="explanationContent">
                                <div class="result-explanation">
                                    <p id="aiExplanation">Based on the clinical features provided, the model predicts Relapsing-Remitting MS (RRMS) with high confidence. Key indicators include the patient's age, EDSS scores progression, and lesion distribution.</p>
                                </div>
                            </div>
                        </div>

                        <div class="expandable-section">
                            <div class="expandable-header" id="riskHeader">
                                <h3><i class="fas fa-exclamation-triangle"></i> Risk Factors</h3>
                                <i class="fas fa-chevron-down" id="riskChevron"></i>
                            </div>
                            <div class="expandable-content" id="riskContent">
                                <div class="risk-factors" id="riskFactors">
                                    <div class="risk-item">
                                        <h4>Age > 40</h4>
                                        <p><span class="priority-high">High Risk</span>: Increased risk of progressive MS forms</p>
                                    </div>
                                    <div class="risk-item">
                                        <h4>Initial EDSS 3.5</h4>
                                        <p><span class="priority-medium">Moderate Risk</span>: Higher baseline disability correlates with worse prognosis</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="recommendations">
                            <h3><i class="fas fa-clipboard-check"></i> Clinical Recommendations</h3>
                            <ul id="recommendationsList">
                                <li>Initiate disease-modifying therapy (DMT) as soon as possible <span class="priority-high">(High Priority)</span></li>
                                <li>Schedule MRI follow-up in 6 months to monitor lesion activity <span class="priority-medium">(Medium Priority)</span></li>
                                <li>Consider interferon-beta or glatiramer acetate as first-line treatment <span class="priority-medium">(Medium Priority)</span></li>
                                <li>Monitor for new neurological symptoms at each visit <span class="priority-high">(High Priority)</span></li>
                                <li>Assess vitamin D levels and supplement if deficient <span class="priority-low">(Low Priority)</span></li>
                            </ul>
                        </div>

                        <button class="report-button" id="saveReport">
                            <i class="fas fa-file-pdf"></i> Download Clinical Report
                        </button>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2><i class="fas fa-chart-line"></i> Prediction Insights</h2>
                </div>
                <div class="card-body">
                    <div class="info-box">
                        <i class="fas fa-lightbulb"></i>
                        <p>
                            Our predictive model analyzes 18 clinical features to identify MS subtypes with 92.4% accuracy.
                            The algorithm was trained on data from 1,200+ confirmed MS cases from leading research hospitals.
                        </p>
                    </div>

                    <div class="data-collection-info">
                        <h3 class="result-title">Key Predictive Features</h3>
                        <div class="features">
                            <ul class="features-list">
                                <li>Initial and Final EDSS Scores</li>
                                <li>MRI Lesion Locations</li>
                                <li>Patient Age at Onset</li>
                                <li>Symptom Type and Pattern</li>
                                <li>Spinal Cord Involvement</li>
                                <li>Oligoclonal Bands Status</li>
                                <li>Disease Duration</li>
                                <li>Evoked Potential Results</li>
                            </ul>
                        </div>

                        <div class="scan-visualization">
                            <div class="scan-line" id="scanLine"></div>
                            <div class="brain-wave">
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <svg class="brain-outline" viewBox="0 0 200 200">
                                    <path d="M100,20 C140,30 160,60 160,100 C160,140 140,170 100,180 C60,170 40,140 40,100 C40,60 60,30 100,20 Z" />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <h3 class="result-title" style="margin-top: 2rem;">Clinical Case Studies</h3>
                    <div class="case-studies">
                        {% for case in case_studies %}
                        <div class="case-study-card">
                            <h4>Case #{{ case.id }}: {{ case.age }}-year-old {{ case.gender }} <span class="prediction-tag">{{ case.prediction }}</span></h4>
                            <p><strong>Symptoms:</strong> {{ case.symptoms }}</p>
                            <p><strong>Accuracy:</strong> {{ case.accuracy }}</p>

                            <div class="expandable-section">
                                <div class="expandable-header">
                                    <span>View Outcome Details</span>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="expandable-content">
                                    <p>{{ case.outcome }}</p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <div class="animation-section">
            <div class="animated-card">
                <i class="fas fa-brain"></i>
                <p>Neural Analysis</p>
            </div>
            <div class="animated-card">
                <i class="fas fa-chart-line"></i>
                <p>Pattern Recognition</p>
            </div>
            <div class="animated-card">
                <i class="fas fa-dna"></i>
                <p>Biomarker Detection</p>
            </div>
        </div>

        <footer>
            <p>© 2025 NeuroPredict Pro | MS Subtype Prediction System</p>
            <p>For Clinical Use Only | Validated with Real Patient Data</p>
        </footer>
    </div>

    <div class="mobile-menu">
        <div class="mobile-nav">
            <div class="mobile-nav-item">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </div>
            <div class="mobile-nav-item">
                <i class="fas fa-brain"></i>
                <span>Predict</span>
            </div>
            <div class="mobile-nav-item">
                <i class="fas fa-book-medical"></i>
                <span>Cases</span>
            </div>
            <div class="mobile-nav-item">
                <i class="fas fa-user-md"></i>
                <span>Clinical</span>
            </div>
        </div>
    </div>

    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('themeToggle');
        themeToggle.addEventListener('click', function() {
            document.body.classList.toggle('dark-theme');
            const icon = themeToggle.querySelector('i');

            if (document.body.classList.contains('dark-theme')) {
                document.body.style.background = 'linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)';
                document.body.style.color = '#f0f0f0';
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                document.body.style.background = 'linear-gradient(135deg, var(--light) 0%, var(--light-alt) 100%)';
                document.body.style.color = 'var(--dark)';
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        });

        // Expandable sections
        document.querySelectorAll('.expandable-header').forEach(header => {
            header.addEventListener('click', function() {
                const content = this.nextElementSibling;
                const chevron = this.querySelector('i');

                content.classList.toggle('active');
                if (content.classList.contains('active')) {
                    chevron.classList.remove('fa-chevron-down');
                    chevron.classList.add('fa-chevron-up');
                } else {
                    chevron.classList.remove('fa-chevron-up');
                    chevron.classList.add('fa-chevron-down');
                }
            });
        });

        // Form submission for prediction
        const form = document.getElementById('predictionForm');
        form.addEventListener('submit', function(e) {
            e.preventDefault();

            // Show loading state
            const predictBtn = document.getElementById('predictBtn');
            const originalBtnText = predictBtn.innerHTML;
            predictBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analyzing...';
            predictBtn.disabled = true;

            // Show scanning animation
            const scanLine = document.getElementById('scanLine');
            scanLine.style.display = 'block';

            // Simulate processing time
            setTimeout(() => {
                scanLine.style.display = 'none';

                // Show prediction result
                const predictionResult = document.getElementById('predictionResult');
                predictionResult.style.display = 'block';

                // Set random prediction for demo (in real app, this comes from server)
                const subtypes = ['RRMS', 'SPMS', 'PPMS'];
                const randomSubtype = subtypes[Math.floor(Math.random() * subtypes.length)];
                const randomConfidence = (Math.random() * 30 + 70).toFixed(1);

                document.getElementById('resultValue').textContent = randomSubtype;
                document.getElementById('confidenceValue').textContent = `${randomConfidence}% Confidence`;
                document.getElementById('probabilityFill').style.width = `${randomConfidence}%`;

                // Highlight active prediction category
                document.querySelectorAll('.category').forEach(cat => {
                    cat.classList.remove('active');
                    if (cat.dataset.type === randomSubtype) {
                        cat.classList.add('active');
                    }
                });

                // Animate feature importance bars
                document.getElementById('importance1').style.width = `${Math.random() * 70 + 30}%`;
                document.getElementById('importance2').style.width = `${Math.random() * 60 + 20}%`;
                document.getElementById('importance3').style.width = `${Math.random() * 50 + 20}%`;
                document.getElementById('importance4').style.width = `${Math.random() * 40 + 20}%`;

                // Generate demo AI explanation
                const explanations = {
                    'RRMS': 'The prediction of Relapsing-Remitting MS (RRMS) is based on the patient\'s younger age, lower EDSS scores, and typical presenting symptoms. Key factors include the presence of optic neuritis as the initial symptom and periventricular lesions on MRI. Differential diagnosis should consider other inflammatory conditions like neuromyelitis optica. Prognosis is generally favorable with early treatment intervention.',
                    'SPMS': 'Secondary Progressive MS (SPMS) is indicated by the patient\'s age, progressive disability, and spinal cord lesions. Factors such as higher EDSS scores and polysymptomatic presentation support this classification. Consider differentials like primary progressive MS and spondylotic myelopathy. Prognosis involves gradual disability accumulation despite treatment.',
                    'PPMS': 'Primary Progressive MS (PPMS) is suggested by the patient\'s older age at onset, steady progression without relapses, and spinal cord involvement. Key indicators include higher baseline EDSS and infratentorial lesions. Differential diagnosis should exclude hereditary spastic paraplegia. Prognosis is typically less favorable than relapsing forms.'
                };

                document.getElementById('aiExplanation').textContent = explanations[randomSubtype];

                // Generate demo risk factors
                const riskFactorsHtml = `
                    <div class="risk-item">
                        <h4>Age > 40</h4>
                        <p><span class="priority-high">High Risk</span>: Increased risk of progressive MS forms</p>
                    </div>
                    <div class="risk-item">
                        <h4>Initial EDSS ${(Math.random() * 3 + 2).toFixed(1)}</h4>
                        <p><span class="priority-medium">Moderate Risk</span>: Higher baseline disability correlates with worse prognosis</p>
                    </div>
                `;
                document.getElementById('riskFactors').innerHTML = riskFactorsHtml;

                // Generate demo recommendations
                const recommendations = {
                    'RRMS': [
                        {text: "Initiate disease-modifying therapy (DMT) immediately", priority: "high"},
                        {text: "Consider interferon-beta or glatiramer acetate as first-line treatment", priority: "medium"},
                        {text: "Schedule MRI follow-up in 6 months", priority: "medium"},
                        {text: "Assess vitamin D levels and supplement if deficient", priority: "low"},
                        {text: "Monitor for new neurological symptoms at each visit", priority: "high"}
                    ],
                    'SPMS': [
                        {text: "Consider siponimod or ocrelizumab therapy", priority: "high"},
                        {text: "Implement symptom management strategies", priority: "medium"},
                        {text: "Physical therapy and rehabilitation program", priority: "high"},
                        {text: "Regular EDSS assessments every 3 months", priority: "medium"},
                        {text: "Monitor for disease progression with annual MRIs", priority: "high"}
                    ],
                    'PPMS': [
                        {text: "Ocrelizumab as primary treatment option", priority: "high"},
                        {text: "Symptom management for spasticity and fatigue", priority: "high"},
                        {text: "Mobility assistance devices as needed", priority: "medium"},
                        {text: "Regular urological assessments", priority: "medium"},
                        {text: "Cognitive function monitoring", priority: "low"}
                    ]
                };

                let recHtml = '';
                recommendations[randomSubtype].forEach(rec => {
                    recHtml += `<li>${rec.text} <span class="priority-${rec.priority}">(${rec.priority.charAt(0).toUpperCase() + rec.priority.slice(1)} Priority)</span></li>`;
                });
                document.getElementById('recommendationsList').innerHTML = recHtml;

                // Scroll to results
                predictionResult.scrollIntoView({ behavior: 'smooth' });

                // Restore button
                predictBtn.innerHTML = originalBtnText;
                predictBtn.disabled = false;
            }, 2000);
        });

        // Save report functionality
        document.getElementById('saveReport').addEventListener('click', function() {
            const btn = this;
            const originalText = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating Report...';

            // Simulate report generation
            setTimeout(() => {
                // Create a download link for the PDF
                const link = document.createElement('a');
                link.href = '#';
                link.download = `MS_Prediction_Report_${new Date().toISOString().slice(0,10)}.pdf`;
                link.click();

                // Show success message
                btn.innerHTML = '<i class="fas fa-check"></i> Report Downloaded!';

                // Revert after 2 seconds
                setTimeout(() => {
                    btn.innerHTML = originalText;
                }, 2000);
            }, 1500);
        });

        // Demo data button for testing
        const demoBtn = document.createElement('button');
        demoBtn.innerHTML = '<i class="fas fa-vial"></i> Load Demo Data';
        demoBtn.style.marginTop = '15px';
        demoBtn.style.background = 'linear-gradient(135deg, var(--success) 0%, #2ecc71 100%)';
        demoBtn.addEventListener('click', function() {
            // Set demo values
            document.getElementById('Gender').value = '2';
            document.getElementById('Age').value = '38';
            document.getElementById('Breastfeeding').value = '2';
            document.getElementById('Varicella').value = '1';
            document.getElementById('Initial_Symptom').value = '1';
            document.getElementById('Mono_or_Polysymptomatic').value = '1';
            document.getElementById('Initial_EDSS').value = '2.5';
            document.getElementById('Final_EDSS').value = '3.0';

            alert('Demo data loaded. Click "Predict MS Subtype" to see results.');
        });

        form.appendChild(demoBtn);
    </script>
</body>
</html>